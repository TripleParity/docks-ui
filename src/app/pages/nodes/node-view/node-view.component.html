<app-spinner [hidden]="isLoaded"></app-spinner>

<div class="row heading">
  <div class="col-sm-4">
    <div class="input-group mb-3">
      <input type="text" class="form-control" placeholder="Search Nodes" aria-label="Node name" aria-describedby="basic-addon2"
        (keyup)="updateFilter($event)">
      <div class="input-group-append">
        <button class="btn btn-default">
          <span class="input-group-text Search" id="Search">
            <i class="fa fa-search"></i>
          </span>
        </button>
      </div>
    </div>
  </div>
</div>
<div>

  <div class="row">
    <div class="col-md-12">
      <ngx-datatable class="bootstrap ngx-datatable" [limit]="20" [footerHeight]="40" [columnMode]="'force'" [rows]="nodes" [headerHeight]="'auto'"
        [rowHeight]="getRowHeight">

        <ngx-datatable-column name="Name">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{row.Description.Hostname}}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Engine version">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{row.Description.Engine.EngineVersion}}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="IP address">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{row.Status.Addr}}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Availability">
          <ng-template let-row="row" ngx-datatable-cell-template>
            <div class="{{row.Spec.Availability}} status">{{row.Spec.Availability}}</div>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Role">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{row.Spec.Role}}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="State">
          <ng-template let-row="row" ngx-datatable-cell-template>
            <div class="{{row.Status.State}} status">{{row.Status.State}}</div>
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="CPUs">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{ getCPU(row.Description.Resources.NanoCPUs) }}
          </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Memory">
          <ng-template let-row="row" ngx-datatable-cell-template>
            {{ getRam(row.Description.Resources.MemoryBytes) }} GB
          </ng-template>
        </ngx-datatable-column>

      </ngx-datatable>
    </div>
  </div>